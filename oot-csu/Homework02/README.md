Реализовать модуль корзины для вычисления общей стоимости заказа в книжном интернет-магазине:

Два вида книг: бумажные и электронные
Для бумажных книг доставка от 1000 рублей бесплатная, иначе 200 рублей. Для электронных всегда бесплатная
Есть промокоды: на конкретную книгу бесплатно, на бесплатную доставку, на скидку X%, на скидку X рублей
Есть акция: при покупке двух бумажных книг одного автора одна электронная книга того же автора в подарок
Система должна быть расширяемой: легко добавить новые правила, скидки, виды промокодов и книг